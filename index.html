<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Novora - Employee Engagement Platform</title>
    <meta name="description" content="Transform Your Business Intelligence with Novora" />
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.png" type="image/png" sizes="32x32">
    
    <!-- Production Configuration -->
    <script>
      // API Configuration
      window.API_CONFIG = {
        BASE_URL: 'https://novora.onrender.com',
        FRONTEND_URL: 'https://novorasurveys.com',
        ENDPOINTS: {
          AUTH: '/api/v1/auth',
          SURVEYS: '/api/v1/surveys',
          RESPONSES: '/api/v1/responses',
          HEALTH: '/api/v1/health'
        }
      };

      // Override hardcoded localhost URLs
      window.ENVIRONMENT_CONFIG = {
        VITE_API_URL: 'https://novora.onrender.com',
        VITE_FRONTEND_URL: 'https://novorasurveys.com',
        NODE_ENV: 'production'
      };

      // Production security guard - disable mock data and fix localhost URLs
      if (typeof window !== 'undefined') {
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
          window.USE_MOCK_DATA = false;
          window.MOCK_MODE = false;
          
          // Override hardcoded localhost URLs in compiled JS
          const originalFetch = window.fetch;
          window.fetch = function(url, options) {
            if (typeof url === 'string') {
              url = url.replace('http://localhost:8000', 'https://novora.onrender.com');
              url = url.replace('https://localhost:8000', 'https://novora.onrender.com');
              url = url.replace('http://localhost:3000', 'https://novorasurveys.com');
              url = url.replace('https://localhost:3000', 'https://novorasurveys.com');
            }
            return originalFetch(url, options);
          };
          
          // Override XMLHttpRequest as well
          const originalXHROpen = XMLHttpRequest.prototype.open;
          XMLHttpRequest.prototype.open = function(method, url, ...args) {
            if (typeof url === 'string') {
              url = url.replace('http://localhost:8000', 'https://novora.onrender.com');
              url = url.replace('https://localhost:8000', 'https://novora.onrender.com');
              url = url.replace('http://localhost:3000', 'https://novorasurveys.com');
              url = url.replace('https://localhost:3000', 'https://novorasurveys.com');
            }
            return originalXHROpen.call(this, method, url, ...args);
          };
        }
      }
    </script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'novora': {
                50: '#f0f9ff',
                100: '#e0f2fe',
                200: '#bae6fd',
                300: '#7dd3fc',
                400: '#38bdf8',
                500: '#0ea5e9',
                600: '#0284c7',
                700: '#0369a1',
                800: '#075985',
                900: '#0c4a6e',
              }
            },
            fontFamily: {
              'heading': ['Inter', 'system-ui', 'sans-serif'],
            }
          }
        }
      }
    </script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <style>
      .gradient-text {
        background: linear-gradient(135deg, #0284c7, #0ea5e9);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      
      .hero-gradient {
        background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #ffffff 100%);
      }
      
      .card-hover {
        transition: all 0.3s ease;
      }
      
      .card-hover:hover {
        transform: translateY(-4px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      
      .animate-fade-in {
        animation: fadeIn 0.6s ease-out;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      
      .animate-slide-up {
        animation: slideUp 0.8s ease-out;
      }
      
      @keyframes slideUp {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
      }
    </style>
  </head>

  <body class="font-sans antialiased">
    <div id="app">
      <!-- Navigation -->
      <nav class="bg-white shadow-sm border-b border-gray-200 fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between items-center h-16">
            <div class="flex items-center">
              <div class="flex-shrink-0">
                <h1 class="text-2xl font-bold gradient-text">Novora</h1>
              </div>
            </div>
            <div class="hidden md:block">
              <div class="ml-10 flex items-baseline space-x-4">
                <a href="#features" class="text-gray-600 hover:text-novora-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Features</a>
                <a href="#how-it-works" class="text-gray-600 hover:text-novora-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">How it Works</a>
                <button onclick="showLoginForm()" class="text-gray-600 hover:text-novora-600 px-3 py-2 rounded-md text-sm font-medium transition-colors">Sign In</button>
                <button onclick="showSignupForm()" class="bg-gradient-to-r from-novora-600 to-novora-700 text-white px-4 py-2 rounded-md text-sm font-medium hover:from-novora-700 hover:to-novora-800 transition-all duration-200 transform hover:scale-105">Start Free Trial</button>
              </div>
            </div>
          </div>
        </div>
      </nav>

      <!-- Hero Section -->
      <section class="hero-gradient min-h-screen flex items-center justify-center relative overflow-hidden pt-16">
        <!-- Background Elements -->
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(56,189,248,0.1),transparent_50%)]"></div>
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(6,182,212,0.08),transparent_50%)]"></div>
        
        <!-- Floating Shapes -->
        <div class="absolute top-20 right-20 w-32 h-32 bg-gradient-to-br from-novora-400/20 to-teal-500/20 rounded-full blur-2xl animate-pulse"></div>
        <div class="absolute bottom-20 left-20 w-40 h-40 bg-gradient-to-tr from-novora-300/15 to-teal-400/15 rounded-full blur-3xl animate-pulse" style="animation-delay: 1s;"></div>
        
        <div class="container mx-auto px-4 relative z-10">
          <div class="text-center max-w-6xl mx-auto">
            <!-- Launch Badge -->
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-novora-600/10 to-teal-500/10 border border-novora-200/50 rounded-full text-sm font-medium text-novora-700 mb-8 backdrop-blur-sm animate-fade-in">
              <i data-lucide="sparkles" class="w-4 h-4 text-novora-600"></i>
              <span>Now Available - Join the Future of Business Intelligence</span>
              <i data-lucide="award" class="w-4 h-4 text-teal-500"></i>
            </div>

            <!-- Main Headline -->
            <h1 class="text-5xl md:text-6xl lg:text-7xl font-heading font-bold leading-[1.1] mb-8 tracking-tight animate-slide-up">
              <span class="block text-slate-900">Transform Your</span>
              <span class="block gradient-text">Business Intelligence</span>
              <span class="block text-slate-900">with Novora</span>
            </h1>

            <!-- Subtitle -->
            <p class="text-xl md:text-2xl text-slate-600 mb-12 max-w-4xl mx-auto leading-relaxed font-light animate-fade-in" style="animation-delay: 0.2s;">
              The enterprise-grade platform that empowers teams to make data-driven decisions, 
              <span class="font-medium text-slate-800"> streamline workflows</span>, and 
              <span class="font-medium text-slate-800"> drive unprecedented growth</span>.
            </p>

            <!-- Key Benefits -->
            <div class="flex flex-wrap justify-center items-center gap-6 mb-12 text-sm text-slate-600 animate-fade-in" style="animation-delay: 0.4s;">
              <div class="flex items-center gap-2">
                <i data-lucide="zap" class="w-4 h-4 text-novora-600"></i>
                <span>40% faster insights</span>
              </div>
              <div class="w-px h-4 bg-slate-300"></div>
              <div class="flex items-center gap-2">
                <i data-lucide="shield" class="w-4 h-4 text-teal-600"></i>
                <span>Enterprise security</span>
              </div>
              <div class="w-px h-4 bg-slate-300"></div>
              <div class="flex items-center gap-2">
                <i data-lucide="trending-up" class="w-4 h-4 text-novora-600"></i>
                <span>99.9% uptime</span>
              </div>
            </div>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-16 animate-fade-in" style="animation-delay: 0.6s;">
              <button onclick="showSignupForm()" class="group relative bg-gradient-to-r from-novora-600 to-teal-600 text-white hover:from-novora-700 hover:to-teal-700 text-lg px-8 py-6 h-auto font-semibold shadow-2xl hover:shadow-novora-500/25 transition-all duration-300 transform hover:scale-105 border-0 rounded-lg">
                <span class="relative z-10 flex items-center gap-2">
                  Start Free Trial
                  <i data-lucide="chevron-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                </span>
              </button>
              
              <button onclick="showLoginForm()" class="group text-slate-700 border-2 border-slate-300 hover:border-novora-600 hover:text-novora-600 text-lg px-8 py-6 h-auto font-semibold transition-all duration-300 transform hover:scale-105 bg-white/80 backdrop-blur-sm rounded-lg">
                <span class="flex items-center gap-2">
                  Sign In
                  <i data-lucide="users" class="w-5 h-5 group-hover:scale-110 transition-transform"></i>
                </span>
              </button>
            </div>
          </div>
        </div>
        
        <!-- Wave Separator -->
        <div class="absolute bottom-0 left-0 right-0 h-24 overflow-hidden">
          <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="absolute bottom-0 left-0 w-full h-full text-white fill-current">
            <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"></path>
          </svg>
        </div>
      </section>

      <!-- Feature Highlights -->
      <section id="features" class="py-24 bg-white relative">
        <div class="container mx-auto px-4">
          <div class="text-center mb-16">
            <div class="inline-flex items-center gap-2 px-4 py-2 bg-novora-50 border border-novora-200 rounded-full text-sm font-semibold text-novora-700 mb-6">
              <i data-lucide="star" class="w-4 h-4"></i>
              Enterprise Features
            </div>
            <h2 class="text-4xl md:text-5xl font-heading font-bold text-slate-900 mb-6">
              Powerful Tools for <span class="gradient-text">Modern Teams</span>
            </h2>
            <p class="text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed">
              Everything you need to stay organized, collaborate effectively, and drive business growth with enterprise-grade reliability.
            </p>
          </div>
          
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
            <div class="card-hover bg-white p-6 rounded-xl shadow-lg border border-gray-100">
              <div class="w-12 h-12 bg-gradient-to-br from-novora-500 to-teal-500 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="bar-chart-3" class="w-6 h-6 text-white"></i>
              </div>
              <h3 class="text-xl font-bold text-slate-900 mb-2">Advanced Analytics</h3>
              <p class="text-slate-600 leading-relaxed">Gain valuable insights with real-time data visualization and customizable dashboards.</p>
            </div>
            
            <div class="card-hover bg-white p-6 rounded-xl shadow-lg border border-gray-100">
              <div class="w-12 h-12 bg-gradient-to-br from-novora-500 to-teal-500 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="message-square" class="w-6 h-6 text-white"></i>
              </div>
              <h3 class="text-xl font-bold text-slate-900 mb-2">Survey Tools</h3>
              <p class="text-slate-600 leading-relaxed">Create and distribute surveys to collect feedback and make data-driven decisions.</p>
            </div>
            
            <div class="card-hover bg-white p-6 rounded-xl shadow-lg border border-gray-100">
              <div class="w-12 h-12 bg-gradient-to-br from-novora-500 to-teal-500 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="bell" class="w-6 h-6 text-white"></i>
              </div>
              <h3 class="text-xl font-bold text-slate-900 mb-2">Smart Alerts</h3>
              <p class="text-slate-600 leading-relaxed">Stay informed with customizable notifications when important events occur.</p>
            </div>
            
            <div class="card-hover bg-white p-6 rounded-xl shadow-lg border border-gray-100">
              <div class="w-12 h-12 bg-gradient-to-br from-novora-500 to-teal-500 rounded-xl flex items-center justify-center mb-4">
                <i data-lucide="file-text" class="w-6 h-6 text-white"></i>
              </div>
              <h3 class="text-xl font-bold text-slate-900 mb-2">Detailed Reports</h3>
              <p class="text-slate-600 leading-relaxed">Generate comprehensive reports with just a few clicks to share with stakeholders.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- How it Works -->
      <section id="how-it-works" class="py-24 bg-gradient-to-b from-slate-50 to-white">
        <div class="container mx-auto px-4">
          <div class="text-center mb-20">
            <h2 class="text-4xl md:text-5xl font-heading font-bold text-slate-900 mb-6">
              How Novora <span class="gradient-text">Works</span>
            </h2>
            <p class="text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed">
              A simple three-step process to transform your team's productivity and drive business growth
            </p>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
            <div class="text-center px-6 group">
              <div class="relative mb-8">
                <div class="bg-gradient-to-br from-novora-500 to-teal-500 w-20 h-20 rounded-2xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl group-hover:shadow-2xl transition-all duration-300 transform group-hover:scale-110">
                  1
                </div>
                <div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-novora-600 to-teal-600 rounded-full flex items-center justify-center">
                  <i data-lucide="sparkles" class="w-3 h-3 text-white"></i>
                </div>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-slate-900">Sign Up</h3>
              <p class="text-slate-600 leading-relaxed">
                Create your account and set up your team members with personalized access levels and enterprise-grade security.
              </p>
            </div>
            
            <div class="text-center px-6 group">
              <div class="relative mb-8">
                <div class="bg-gradient-to-br from-novora-500 to-teal-500 w-20 h-20 rounded-2xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl group-hover:shadow-2xl transition-all duration-300 transform group-hover:scale-110">
                  2
                </div>
                <div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-novora-600 to-teal-600 rounded-full flex items-center justify-center">
                  <i data-lucide="zap" class="w-3 h-3 text-white"></i>
                </div>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-slate-900">Customize</h3>
              <p class="text-slate-600 leading-relaxed">
                Tailor dashboards, reports, and notifications to match your specific business needs and workflows.
              </p>
            </div>
            
            <div class="text-center px-6 group">
              <div class="relative mb-8">
                <div class="bg-gradient-to-br from-novora-500 to-teal-500 w-20 h-20 rounded-2xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl group-hover:shadow-2xl transition-all duration-300 transform group-hover:scale-110">
                  3
                </div>
                <div class="absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-novora-600 to-teal-600 rounded-full flex items-center justify-center">
                  <i data-lucide="trending-up" class="w-3 h-3 text-white"></i>
                </div>
              </div>
              <h3 class="text-2xl font-bold mb-4 text-slate-900">Analyze & Grow</h3>
              <p class="text-slate-600 leading-relaxed">
                Make data-driven decisions using Novora's powerful analytics and drive unprecedented business growth.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="py-24 bg-gradient-to-br from-novora-900 via-novora-800 to-slate-900 text-white relative overflow-hidden">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,rgba(56,189,248,0.1),transparent_50%)]"></div>
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(6,182,212,0.08),transparent_50%)]"></div>
        
        <div class="container mx-auto px-4 text-center relative z-10">
          <div class="max-w-4xl mx-auto">
            <h2 class="text-4xl md:text-5xl lg:text-6xl font-heading font-bold mb-8 leading-tight">
              Ready to transform your <span class="bg-gradient-to-r from-novora-400 to-teal-400 bg-clip-text text-transparent">workflow</span>?
            </h2>
            <p class="text-xl md:text-2xl opacity-90 max-w-3xl mx-auto mb-12 leading-relaxed">
              Join thousands of teams already using Novora to streamline their operations and drive unprecedented growth.
            </p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-6">
              <button onclick="showSignupForm()" class="group bg-gradient-to-r from-novora-500 to-teal-500 text-white hover:from-novora-600 hover:to-teal-600 text-lg px-10 py-6 h-auto font-semibold shadow-2xl hover:shadow-novora-500/25 transition-all duration-300 transform hover:scale-105 border-0 rounded-lg">
                <span class="relative z-10 flex items-center gap-3">
                  Start Free Trial
                  <i data-lucide="chevron-right" class="w-5 h-5 group-hover:translate-x-1 transition-transform"></i>
                </span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="bg-slate-900 text-white py-12">
        <div class="container mx-auto px-4">
          <div class="text-center">
            <h3 class="text-2xl font-bold gradient-text mb-4">Novora</h3>
            <p class="text-slate-400 mb-6">Building the future of business intelligence</p>
            <div class="flex justify-center space-x-6">
              <a href="#" class="text-slate-400 hover:text-white transition-colors">Privacy</a>
              <a href="#" class="text-slate-400 hover:text-white transition-colors">Terms</a>
              <a href="#" class="text-slate-400 hover:text-white transition-colors">Contact</a>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
      <div class="bg-white rounded-xl shadow-2xl max-w-md w-full p-6">
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-slate-900">Welcome Back</h2>
          <p class="text-slate-600">Access your enterprise dashboard</p>
        </div>
        <form id="loginForm" class="space-y-4">
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Email Address</label>
            <div class="relative">
              <i data-lucide="mail" class="absolute left-3 top-3 h-5 w-5 text-slate-400"></i>
              <input type="email" id="loginEmail" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:border-novora-500 focus:ring-2 focus:ring-novora-500 focus:outline-none" placeholder="Enter your email" required>
            </div>
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Password</label>
            <div class="relative">
              <i data-lucide="lock" class="absolute left-3 top-3 h-5 w-5 text-slate-400"></i>
              <input type="password" id="loginPassword" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:border-novora-500 focus:ring-2 focus:ring-novora-500 focus:outline-none" placeholder="Enter your password" required>
            </div>
          </div>
          <button type="submit" class="w-full bg-gradient-to-r from-novora-600 to-teal-600 text-white py-3 rounded-lg font-semibold hover:from-novora-700 hover:to-teal-700 transition-all duration-200">
            Sign In
          </button>
        </form>
        <div class="text-center mt-4">
          <button onclick="closeLoginModal()" class="text-sm text-novora-600 hover:text-novora-700 font-medium">Close</button>
        </div>
      </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
      <div class="bg-white rounded-xl shadow-2xl max-w-md w-full p-6">
        <div class="text-center mb-6">
          <h2 class="text-2xl font-bold text-slate-900">Create Account</h2>
          <p class="text-slate-600">Start your free trial today</p>
        </div>
        <form id="signupForm" class="space-y-4">
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Email Address</label>
            <div class="relative">
              <i data-lucide="mail" class="absolute left-3 top-3 h-5 w-5 text-slate-400"></i>
              <input type="email" id="signupEmail" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:border-novora-500 focus:ring-2 focus:ring-novora-500 focus:outline-none" placeholder="Enter your email" required>
            </div>
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Password</label>
            <div class="relative">
              <i data-lucide="lock" class="absolute left-3 top-3 h-5 w-5 text-slate-400"></i>
              <input type="password" id="signupPassword" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:border-novora-500 focus:ring-2 focus:ring-novora-500 focus:outline-none" placeholder="Create a password" required>
            </div>
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">Company Name</label>
            <div class="relative">
              <i data-lucide="building" class="absolute left-3 top-3 h-5 w-5 text-slate-400"></i>
              <input type="text" id="companyName" class="w-full pl-10 pr-4 py-3 border border-slate-200 rounded-lg focus:border-novora-500 focus:ring-2 focus:ring-novora-500 focus:outline-none" placeholder="Enter company name" required>
            </div>
          </div>
          <button type="submit" class="w-full bg-gradient-to-r from-novora-600 to-teal-600 text-white py-3 rounded-lg font-semibold hover:from-novora-700 hover:to-teal-700 transition-all duration-200">
            Create Account
          </button>
        </form>
        <div class="text-center mt-4">
          <button onclick="closeSignupModal()" class="text-sm text-novora-600 hover:text-novora-700 font-medium">Close</button>
        </div>
      </div>
    </div>

    <!-- Dashboard (Hidden by default) -->
    <div id="dashboard" class="hidden min-h-screen bg-gray-50">
      <!-- Dashboard content will be loaded here -->
    </div>

    <script>
      // Initialize Lucide icons
      lucide.createIcons();

      // Global state
      let currentUser = null;

      // Modal functions
      function showLoginForm() {
        document.getElementById('loginModal').classList.remove('hidden');
      }

      function closeLoginForm() {
        document.getElementById('loginModal').classList.add('hidden');
      }

      function showSignupForm() {
        document.getElementById('signupModal').classList.remove('hidden');
      }

      function closeSignupModal() {
        document.getElementById('signupModal').classList.add('hidden');
      }

      // Close modals when clicking outside
      document.getElementById('loginModal').addEventListener('click', function(e) {
        if (e.target === this) closeLoginForm();
      });

      document.getElementById('signupModal').addEventListener('click', function(e) {
        if (e.target === this) closeSignupModal();
      });

      // Login form handler
      document.getElementById('loginForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        
        try {
          const response = await fetch('https://novora.onrender.com/api/v1/auth/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email, password })
          });
          
          const data = await response.json();
          
          if (response.ok) {
            currentUser = data.user;
            localStorage.setItem('token', data.token);
            localStorage.setItem('user', JSON.stringify(data.user));
            closeLoginForm();
            showDashboard();
          } else {
            alert('Login failed: ' + data.error);
          }
        } catch (error) {
          alert('Connection error: ' + error.message);
        }
      });

      // Signup form handler
      document.getElementById('signupForm').addEventListener('submit', async function(e) {
        e.preventDefault();
        const email = document.getElementById('signupEmail').value;
        const password = document.getElementById('signupPassword').value;
        const companyName = document.getElementById('companyName').value;
        
        try {
          const response = await fetch('https://novora.onrender.com/api/v1/auth/register', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ 
              email, 
              password, 
              company_name: companyName,
              company_size: 'small'
            })
          });
          
          const data = await response.json();
          
          if (response.ok) {
            currentUser = data.user;
            localStorage.setItem('token', data.token);
            localStorage.setItem('user', JSON.stringify(data.user));
            closeSignupModal();
            showDashboard();
          } else {
            alert('Registration failed: ' + data.error);
          }
        } catch (error) {
          alert('Connection error: ' + error.message);
        }
      });

      // Dashboard functions
      function showDashboard() {
        document.getElementById('app').style.display = 'none';
        document.getElementById('dashboard').classList.remove('hidden');
        loadDashboardContent();
      }

      function loadDashboardContent() {
        const dashboard = document.getElementById('dashboard');
        dashboard.innerHTML = `
          <div class="min-h-screen bg-gray-50">
            <!-- Top Navigation -->
            <nav class="bg-white shadow-sm border-b border-gray-200">
              <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                  <div class="flex items-center">
                    <h1 class="text-2xl font-bold gradient-text">Novora Dashboard</h1>
                  </div>
                  <div class="flex items-center space-x-4">
                    <span class="text-sm text-gray-600">Welcome, ${currentUser?.email || 'User'}</span>
                    <button onclick="logout()" class="bg-red-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-red-700 transition-colors">
                      Sign Out
                    </button>
                  </div>
                </div>
              </div>
            </nav>

            <!-- Dashboard Content -->
            <div class="max-w-7xl mx-auto px-6 py-8">
              <div class="space-y-6">
                <!-- Header -->
                <div class="flex items-center justify-between">
                  <div>
                    <h1 class="text-3xl font-bold text-gray-900">Team Overview</h1>
                    <p class="text-gray-600 mt-2">Your team performance and insights</p>
                  </div>
                  <div class="flex space-x-3">
                    <button class="flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
                      <i data-lucide="download" class="w-4 h-4 mr-2"></i>
                      Export Snapshot
                    </button>
                    <button class="flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">
                      <i data-lucide="share" class="w-4 h-4 mr-2"></i>
                      Share Report
                    </button>
                  </div>
                </div>

                <!-- Top 4 Metrics -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                  <!-- Responses -->
                  <div class="group cursor-pointer border border-gray-200 bg-white hover:-translate-y-0.5 hover:shadow-xl transition-all rounded-xl shadow-md p-6">
                    <div class="flex items-center gap-2 mb-4">
                      <div class="h-8 w-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center">
                        <i data-lucide="users" class="h-4 w-4"></i>
                      </div>
                      <h3 class="text-sm font-medium text-gray-900">Responses</h3>
                    </div>
                    <div class="text-2xl font-bold text-gray-900">47</div>
                    <div class="flex items-center gap-1 mt-1">
                      <i data-lucide="trending-up" class="h-3 w-3 text-green-600"></i>
                      <p class="text-xs text-green-600">+12 this week</p>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">Across all surveys</p>
                  </div>

                  <!-- Avg Score + Trend Sparkline -->
                  <div class="group cursor-pointer border border-gray-200 bg-white hover:-translate-y-0.5 hover:shadow-xl transition-all rounded-xl shadow-md p-6">
                    <div class="flex items-center gap-2 mb-4">
                      <div class="h-8 w-8 rounded-lg bg-green-50 text-green-600 flex items-center justify-center">
                        <i data-lucide="trending-up" class="h-4 w-4"></i>
                      </div>
                      <h3 class="text-sm font-medium text-gray-900">Avg Score</h3>
                    </div>
                    <div class="flex items-center justify-between">
                      <div class="text-2xl font-bold text-gray-900">7.8</div>
                      <div class="w-16 h-8 bg-gray-100 rounded flex items-center justify-center">
                        <div class="flex items-end space-x-1">
                          <div class="w-1 h-3 bg-gray-400 rounded"></div>
                          <div class="w-1 h-4 bg-gray-400 rounded"></div>
                          <div class="w-1 h-2 bg-gray-400 rounded"></div>
                          <div class="w-1 h-5 bg-green-500 rounded"></div>
                          <div class="w-1 h-4 bg-green-500 rounded"></div>
                          <div class="w-1 h-6 bg-green-500 rounded"></div>
                        </div>
                      </div>
                    </div>
                    <div class="flex items-center gap-1 mt-1">
                      <i data-lucide="trending-up" class="h-3 w-3 text-green-600"></i>
                      <p class="text-xs text-green-600">+0.3 vs last month</p>
                    </div>
                  </div>

                  <!-- Response Rate -->
                  <div class="group cursor-pointer border border-gray-200 bg-white hover:-translate-y-0.5 hover:shadow-xl transition-all rounded-xl shadow-md p-6">
                    <div class="flex items-center gap-2 mb-4">
                      <div class="h-8 w-8 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center">
                        <i data-lucide="activity" class="h-4 w-4"></i>
                      </div>
                      <h3 class="text-sm font-medium text-gray-900">Response Rate</h3>
                    </div>
                    <div class="text-2xl font-bold text-gray-900">85%</div>
                    <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                      <div class="bg-purple-600 h-2 rounded-full" style="width: 85%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">17 of 20 team members</p>
                  </div>

                  <!-- Status -->
                  <div class="group cursor-pointer border border-gray-200 bg-white hover:-translate-y-0.5 hover:shadow-xl transition-all rounded-xl shadow-md p-6">
                    <div class="flex items-center gap-2 mb-4">
                      <div class="h-8 w-8 rounded-lg bg-green-50 text-green-600 flex items-center justify-center">
                        <i data-lucide="check-circle" class="h-4 w-4"></i>
                      </div>
                      <h3 class="text-sm font-medium text-gray-900">Status</h3>
                    </div>
                    <div class="flex items-center gap-2">
                      <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                      <span class="text-lg font-bold text-green-600">Healthy</span>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">All systems operational</p>
                  </div>
                </div>

                <!-- Alerts/Highlights -->
                <div class="border border-red-200 bg-red-50 shadow-md rounded-xl p-4">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center">
                      <i data-lucide="alert-triangle" class="w-4 h-4 text-red-600"></i>
                    </div>
                    <div>
                      <p class="text-sm font-medium text-red-800">⚠️ Workload score dropped -2.5 since last month</p>
                      <p class="text-xs text-red-600">Consider addressing team workload concerns</p>
                    </div>
                  </div>
                </div>

                <!-- Anonymous Comments -->
                <div class="border border-gray-200 bg-white shadow-md rounded-xl p-6">
                  <div class="mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Anonymous Comments</h3>
                    <p class="text-sm text-gray-600">Latest feedback from team members</p>
                  </div>
                  <div class="space-y-3 max-h-64 overflow-y-auto">
                    <div class="p-3 border rounded-lg bg-gray-50">
                      <p class="text-sm text-gray-800">"Great collaboration in the new sprint, recognition improved."</p>
                      <p class="text-xs text-gray-500 mt-1">2 days ago • Recognition</p>
                    </div>
                    <div class="p-3 border rounded-lg bg-gray-50">
                      <p class="text-sm text-gray-800">"Workload is high, frequent overtime recently."</p>
                      <p class="text-xs text-gray-500 mt-1">3 days ago • Workload</p>
                    </div>
                    <div class="p-3 border rounded-lg bg-gray-50">
                      <p class="text-sm text-gray-800">"Manager 1:1s could be more consistent."</p>
                      <p class="text-xs text-gray-500 mt-1">1 week ago • Manager Relationship</p>
                    </div>
                    <div class="p-3 border rounded-lg bg-gray-50">
                      <p class="text-sm text-gray-800">"Communication between teams improved after weekly sync."</p>
                      <p class="text-xs text-gray-500 mt-1">2 weeks ago • Communication</p>
                    </div>
                  </div>
                </div>

                <!-- Survey Pages (3 tabs) -->
                <div class="border border-gray-200 bg-white shadow-md rounded-xl p-6">
                  <div class="mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Survey Pages</h3>
                    <p class="text-sm text-gray-600">Manage your active surveys</p>
                  </div>
                  <div class="flex space-x-1 mb-4">
                    <button class="px-4 py-2 bg-novora-600 text-white rounded-lg text-sm font-medium">Team Pulse</button>
                    <button class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium">Engagement</button>
                    <button class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium">Feedback</button>
                  </div>
                  <div class="p-4 bg-gray-50 rounded-lg">
                    <h4 class="font-medium text-gray-900 mb-2">Team Pulse Survey</h4>
                    <p class="text-sm text-gray-600 mb-3">Monthly team satisfaction check</p>
                    <div class="flex items-center gap-4 text-sm">
                      <span class="text-green-600">● Active</span>
                      <span>47 responses</span>
                      <span>85% completion</span>
                    </div>
                  </div>
                </div>

                <!-- Share & Collect -->
                <div class="border border-gray-200 bg-white shadow-md rounded-xl p-6">
                  <div class="mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Share & Collect</h3>
                    <p class="text-sm text-gray-600">Share your survey with team members</p>
                  </div>
                  <div class="space-y-4">
                    <div class="flex items-center gap-3">
                      <input type="text" value="https://novorasurveys.com/survey/abc123" readonly class="flex-1 px-3 py-2 border border-gray-200 rounded-lg bg-gray-50 text-sm">
                      <button onclick="copyToClipboard('https://novorasurveys.com/survey/abc123')" class="px-4 py-2 bg-novora-600 text-white rounded-lg text-sm font-medium hover:bg-novora-700 transition-colors">
                        Copy Link
                      </button>
                    </div>
                    <div class="flex gap-3">
                      <button class="flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors">
                        <i data-lucide="mail" class="w-4 h-4"></i>
                        Email
                      </button>
                      <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors">
                        <i data-lucide="message-circle" class="w-4 h-4"></i>
                        Slack
                      </button>
                      <button class="flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors">
                        <i data-lucide="copy" class="w-4 h-4"></i>
                        Copy
                      </button>
                    </div>
                  </div>
                </div>

                <!-- Send Reminders -->
                <div class="border border-gray-200 bg-white shadow-md rounded-xl p-6">
                  <div class="mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Send Reminders</h3>
                    <p class="text-sm text-gray-600">Encourage team participation</p>
                  </div>
                  <div class="flex gap-3">
                    <button class="flex items-center gap-2 px-4 py-2 bg-yellow-600 text-white rounded-lg text-sm font-medium hover:bg-yellow-700 transition-colors">
                      <i data-lucide="mail" class="w-4 h-4"></i>
                      Email Reminder
                    </button>
                    <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors">
                      <i data-lucide="message-circle" class="w-4 h-4"></i>
                      Slack Reminder
                    </button>
                    <button class="flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors">
                      <i data-lucide="smartphone" class="w-4 h-4"></i>
                      SMS Reminder
                    </button>
                  </div>
                </div>

                <!-- Question Breakdown -->
                <div class="border border-gray-200 bg-white shadow-md rounded-xl p-6">
                  <div class="mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Question Breakdown</h3>
                    <p class="text-sm text-gray-600">Performance by question category</p>
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <div class="p-3 border rounded-lg text-center">
                      <div class="text-2xl font-bold text-green-600">8.2</div>
                      <div class="text-sm text-gray-600">Collaboration</div>
                      <div class="text-xs text-green-600">+0.3</div>
                    </div>
                    <div class="p-3 border rounded-lg text-center">
                      <div class="text-2xl font-bold text-red-600">6.1</div>
                      <div class="text-sm text-gray-600">Recognition</div>
                      <div class="text-xs text-red-600">-0.2</div>
                    </div>
                    <div class="p-3 border rounded-lg text-center">
                      <div class="text-2xl font-bold text-yellow-600">7.5</div>
                      <div class="text-sm text-gray-600">Growth</div>
                      <div class="text-xs text-gray-600">0.0</div>
                    </div>
                    <div class="p-3 border rounded-lg text-center">
                      <div class="text-2xl font-bold text-red-600">6.8</div>
                      <div class="text-sm text-gray-600">Workload</div>
                      <div class="text-xs text-red-600">-0.1</div>
                    </div>
                  </div>
                </div>

                <!-- Export / Summary -->
                <div class="border border-gray-200 bg-white shadow-md rounded-xl p-6">
                  <div class="mb-4">
                    <h3 class="text-lg font-semibold text-gray-900">Export & Summary</h3>
                    <p class="text-sm text-gray-600">Generate reports and export data</p>
                  </div>
                  <div class="flex gap-3">
                    <button class="flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors">
                      <i data-lucide="file-text" class="w-4 h-4"></i>
                      CSV Report
                    </button>
                    <button class="flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors">
                      <i data-lucide="file" class="w-4 h-4"></i>
                      PDF Summary
                    </button>
                    <button class="flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors">
                      <i data-lucide="bar-chart-3" class="w-4 h-4"></i>
                      Analytics
                    </button>
                  </div>
                </div>

              </div>
            </div>
          </div>
        `;
        
        // Re-initialize icons
        lucide.createIcons();
      }


      function copyToClipboard(text) {
        navigator.clipboard.writeText(text).then(() => {
          alert('Survey link copied to clipboard!');
        });
      }

      function logout() {
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        currentUser = null;
        document.getElementById('dashboard').classList.add('hidden');
        document.getElementById('app').style.display = 'block';
      }

      // Check if user is already logged in
      window.addEventListener('load', function() {
        const token = localStorage.getItem('token');
        const user = localStorage.getItem('user');
        
        if (token && user) {
          currentUser = JSON.parse(user);
          showDashboard();
        }
      });
    </script>
  </body>
</html>
