{"version":3,"file":"CreateSurvey-s7f5iNz7.js","sources":["../../src/pages/CreateSurvey.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport MultiStepSurveyBuilder from \"@/components/survey/MultiStepSurveyBuilder\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nconst CreateSurvey = () => {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n  const { user } = useAuth();\n\n  // Check if user has permission to create surveys (admin only)\n  useEffect(() => {\n    if (user && user.role !== 'admin') {\n      toast({\n        title: \"Access Denied\",\n        description: \"Only administrators can create surveys.\",\n        variant: \"destructive\"\n      });\n      navigate(\"/dashboard\");\n    }\n  }, [user, navigate, toast]);\n\n  // Show loading or redirect if not admin\n  if (!user || user.role !== 'admin') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Checking permissions...</p>\n        </div>\n      </div>\n    );\n  }\n\n  const handleComplete = (data: any) => {\n    console.log(\"Survey completed:\", data);\n      toast({\n      title: \"Survey Created Successfully!\",\n      description: \"Your survey has been launched and is now active.\",\n    });\n    navigate(\"/dashboard\");\n  };\n\n  const handleBack = () => {\n    navigate(\"/dashboard\");\n  };\n\n  return (\n    <MultiStepSurveyBuilder\n      onComplete={handleComplete}\n      onBack={handleBack}\n    />\n  );\n};\n\nexport default CreateSurvey;\n"],"names":["useEffect","jsxs","jsx"],"mappings":";;AAMA,MAAM,eAAe,MAAM;AACzB,QAAM,WAAW;AACX,QAAA,EAAE,UAAU;AACZ,QAAA,EAAE,SAAS;AAGjBA,eAAAA,UAAU,MAAM;AACV,QAAA,QAAQ,KAAK,SAAS,SAAS;AAC3B,YAAA;AAAA,QACJ,OAAO;AAAA,QACP,aAAa;AAAA,QACb,SAAS;AAAA,MAAA,CACV;AACD,eAAS,YAAY;AAAA,IACvB;AAAA,EACC,GAAA,CAAC,MAAM,UAAU,KAAK,CAAC;AAG1B,MAAI,CAAC,QAAQ,KAAK,SAAS,SAAS;AAClC,iDACG,OAAI,EAAA,WAAU,4DACb,UAACC,kCAAA,KAAA,OAAA,EAAI,WAAU,eACb,UAAA;AAAA,MAACC,kCAAAA,IAAA,OAAA,EAAI,WAAU,yEAAyE,CAAA;AAAA,MACvFA,kCAAA,IAAA,KAAA,EAAE,WAAU,sBAAqB,UAAuB,2BAAA;AAAA,IAAA,EAC3D,CAAA,EACF,CAAA;AAAA,EAEJ;AAEM,QAAA,iBAAiB,CAAC,SAAc;AAC5B,YAAA,IAAI,qBAAqB,IAAI;AAC7B,UAAA;AAAA,MACN,OAAO;AAAA,MACP,aAAa;AAAA,IAAA,CACd;AACD,aAAS,YAAY;AAAA,EAAA;AAGvB,QAAM,aAAa,MAAM;AACvB,aAAS,YAAY;AAAA,EAAA;AAIrB,SAAAA,kCAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,YAAY;AAAA,MACZ,QAAQ;AAAA,IAAA;AAAA,EAAA;AAGd;"}